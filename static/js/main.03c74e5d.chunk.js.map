{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGalleryList/ImageGalleryList.module.css","components/SearchBar/SearchBar.jsx","components/Button/Button.jsx","services/fetchApi.js","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGalleryList/ImageGalleryList.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","info","className","s","Searchbar","this","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","Component","Button","onLoad","Button_container","onClick","axios","defaults","baseURL","fetch","query","page","get","then","res","data","hits","catch","error","console","log","Modal","handleKeyDown","e","code","onModalOpen","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","src","alt","Overlay","ImageGalleryItem","isModalOpen","largeUrl","ImageGalleryList","images","ImageGallery","map","id","webformatURL","largeImageURL","isLoading","onLoadMore","prevState","prevProps","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","message","color","height","width","timeout","length","App","formSubmitHandler","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.03c74e5d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3jD9W\",\"Button_container\":\"Button_Button_container__tocZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21BTE\",\"Modal\":\"Modal_Modal__phhug\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3XX3d\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1c4nh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalleryList_ImageGallery__2WWWu\"};","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport s from './SearchBar.module.css';\r\nexport default class SearchBar extends Component {\r\n    static propTypes = {\r\n        onSubmit: PropTypes.func,\r\n    }\r\n\r\n    state = {\r\n    imageName: '',\r\n    }\r\n\r\n handleNameChange = (event) => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase()});\r\n  };\r\n  handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      if (this.state.imageName.trim() === '') {\r\n          toast.info('Введите что-нибудь в строку поиска');\r\n          return;\r\n      }\r\n      this.props.onSubmit(this.state.imageName);\r\n      this.setState({ imageName: '' });\r\n    };\r\n render() {\r\n    return (\r\n        <header className={s.Searchbar}>\r\n            <form onSubmit={this.handleSubmit}\r\n                className={s.SearchForm}\r\n            >\r\n                <button type=\"submit\" className={s.SearchForm_button}>\r\n                    <span className={s.SearchForm_button_label}>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className={s.SearchForm_input}\r\n                    type=\"text\"\r\n                    value={this.state.imageName}\r\n                    onChange={this.handleNameChange}\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header >\r\n    );\r\n }\r\n}","import s from './Button.module.css';\r\n\r\nexport default function Button({onLoad}) {\r\n    return (\r\n        <div className={s.Button_container}>\r\n            <button className={s.Button} type=\"button\" onClick={onLoad}>Load more</button>\r\n        </div>\r\n    )\r\n}","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\nconst key = \"19211100-bdfc54b640ca60be4b98fccbf\";\r\n\r\nexport const fetch = (query, page) => {\r\n  return axios\r\n    .get(\r\n      `?q=${query}\r\n         &page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((res) => res.data.hits)\r\n    .catch((error) => console.log(error));\r\n};\r\n","import { Component } from \"react\";\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n             window.addEventListener('keydown', this.handleKeyDown )\r\n    }\r\n\r\n    componentWillUnmount() {\r\n            window.removeEventListener('keydown',this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n            console.log(e.code)\r\n             if (e.code === 'Escape') {\r\n                console.log(this.onModalOpen)\r\n                this.props.onClose();\r\n            }\r\n    }\r\n    \r\n    handleBackdropClick = event => {\r\n            if (event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n    render() {\r\n        const {src, alt} = this.props\r\n      return (\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick} >\r\n        <div className={s.Modal} onClick={this.handleKeyDown}  >\r\n            <img src={src} alt={alt} />\r\n        </div>\r\n    </div>\r\n          )  \r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport s from './ImageGalleryItem.module.css';\r\nimport Modal from '../Modal/Modal'\r\n\r\nexport default class ImageGalleryItem extends Component { \r\n    static propTypes = {\r\n        alt: PropTypes.string,\r\n        largeUrl: PropTypes.string,\r\n        src: PropTypes.string,\r\n    }\r\n    \r\n    state = {\r\n        isModalOpen: false,\r\n    }\r\n   \r\n    onModalOpen = () => {\r\n        this.setState(({isModalOpen}) => ({ isModalOpen: !isModalOpen}))\r\n    }\r\n\r\n    render ()   {\r\n        const { alt, largeUrl, src} = this.props\r\n        const { isModalOpen } = this.state;\r\n        return (\r\n            <> \r\n    <li className={s.ImageGalleryItem} onClick={this.onModalOpen} >\r\n        <img src={src}\r\n         alt={alt}\r\n         className=\"ImageGalleryItem-image\"\r\n                    \r\n        />\r\n            </li>\r\n                {isModalOpen && <Modal\r\n                    src={largeUrl}\r\n                    onClose={this.onModalOpen}\r\n                     />\r\n                }\r\n        </>    \r\n    )\r\n } \r\n}\r\n\r\n\r\n\r\n\r\n            ","import PropTypes, { object } from 'prop-types';\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\"\r\nimport s from './ImageGalleryList.module.css';\r\n\r\nexport default function ImageGalleryList({ images }) { \r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {images.map(({ id, webformatURL, largeImageURL }) => {\r\n                return <ImageGalleryItem key={id} src={webformatURL} largeUrl={largeImageURL} />\r\n            })}\r\n      </ul>\r\n        \r\n    )\r\n}\r\n\r\n\r\nImageGalleryList.propTypes = {\r\n    images: PropTypes.arrayOf(object).isRequired,\r\n}","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from '../Button/Button';\r\nimport {fetch} from '../../services/fetchApi'\r\nimport ImageGalleryList from '../ImageGalleryList/ImageGalleryList';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nexport default class ImageGallery extends Component {\r\n     static propTypes = {\r\n        imageName: PropTypes.string,        \r\n    }\r\n    state = {\r\n        images: [],\r\n        isLoading: false,\r\n        error: null,\r\n        page:1,\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n               \r\n        if (prevProps.imageName !== this.props.imageName) {\r\n            this.setState({ isLoading: true })\r\n            fetch(this.props.imageName, this.state.page)\r\n                .then(data => this.setState({ images: data }))\r\n                .catch(error => this.setState({ error: error }))\r\n                .finally(() => this.setState({ isLoading: false }))\r\n        }\r\n        if (prevState.page !== this.state.page) {\r\n            fetch(this.props.imageName, this.state.page)  \r\n                .then(data => this.setState(prevState => ({ images: [...prevState.images, ...data]})))\r\n                .catch(error => this.setState({ error: error }))\r\n                .finally(() => this.setState({ isLoading: false }))\r\n        }\r\n\r\n        if (prevState.images !== this.state.images) {\r\n                  window.scrollTo({\r\n                        top: document.documentElement.scrollHeight,\r\n                        behavior: 'smooth',\r\n                  })  \r\n            console.log(this.state.images)\r\n        }\r\n    }\r\n    \r\n    onLoadMore = () => this.setState((prevState)=> ({ page: prevState.page + 1 }));\r\n   \r\n    \r\n    \r\n    render() {\r\n        const { images, isLoading, error } = this.state;\r\n        return (\r\n            <>\r\n                {error && <p>{error.message}</p>}\r\n                {isLoading && <Loader\r\n                    type=\"Puff\"\r\n                    color=\"#00BFFF\"\r\n                    height={100}\r\n                    width={100}\r\n                    timeout={3000} //3 secs\r\n        />}\r\n                {images.length > 0 && <ImageGalleryList images={images} />}\r\n                {images.length > 0 && <Button onLoad={this.onLoadMore} />}\r\n               \r\n            </>\r\n        )\r\n    }\r\n}\r\n    ","import { Component } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport SearchBar from \"./components/SearchBar/SearchBar\";\r\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    imageName: \"\",\r\n  };\r\n  formSubmitHandler = (imageName) => {\r\n    this.setState({ imageName });\r\n    console.log(imageName);\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <SearchBar onSubmit={this.formSubmitHandler} />\r\n        <ImageGallery imageName={this.state.imageName} />\r\n\r\n        <ToastContainer position=\"top-left\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2liHB\",\"SearchForm\":\"SearchBar_SearchForm__gRigc\",\"SearchForm_button\":\"SearchBar_SearchForm_button__1wdMh\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__PrTee\",\"SearchForm_input\":\"SearchBar_SearchForm_input__3PLYb\"};"],"sourceRoot":""}